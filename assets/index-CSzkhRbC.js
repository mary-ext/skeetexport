var Tn=Object.defineProperty;var Tt=e=>{throw TypeError(e)};var In=(e,t,n)=>t in e?Tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var p=(e,t,n)=>In(e,typeof t!="symbol"?t+"":t,n),Nn=(e,t,n)=>t.has(e)||Tt("Cannot "+n);var It=(e,t,n)=>t.has(e)?Tt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Nt=(e,t,n,r)=>(Nn(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const Fn=(e,t)=>e===t,Ne={equals:Fn};let On=en;const Q=1,Fe=2,Jt={owned:null,cleanups:null,context:null,owner:null},Je={};var C=null;let Qe=null,$n=null,v=null,O=null,Z=null,ze=0;function Cn(e,t){const n=v,r=C,o=e.length===0,i=t===void 0?r:t,s=o?Jt:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=o?e:()=>e(()=>me(()=>qe(s)));C=s,v=null;try{return ee(a,!0)}finally{v=n,C=r}}function ye(e,t){t=t?Object.assign({},Ne,t):Ne;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=o=>(typeof o=="function"&&(o=o(n.value)),Yt(n,o));return[Qt.bind(n),r]}function Ft(e,t,n){const r=ht(e,t,!0,Q);Ee(r)}function tt(e,t,n){const r=ht(e,t,!1,Q);Ee(r)}function Bn(e,t,n){n=n?Object.assign({},Ne,n):Ne;const r=ht(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Ee(r),Qt.bind(r)}function Un(e){return e&&typeof e=="object"&&"then"in e}function Dn(e,t,n){let r,o,i;arguments.length===2&&typeof t=="object"||arguments.length===1?(r=!0,o=e,i=t||{}):(r=e,o=t,i={});let s=null,a=Je,c=!1,u="initialValue"in i,h=typeof r=="function"&&Bn(r);const m=new Set,[x,B]=(i.storage||ye)(i.initialValue),[f,S]=ye(void 0),[U,_]=ye(void 0,{equals:!1}),[N,D]=ye(u?"ready":"unresolved");function T(b,E,I,ae){return s===b&&(s=null,ae!==void 0&&(u=!0),(b===a||E===a)&&i.onHydrated&&queueMicrotask(()=>i.onHydrated(ae,{value:E})),a=Je,M(E,I)),E}function M(b,E){ee(()=>{E===void 0&&B(()=>b),D(E!==void 0?"errored":u?"ready":"unresolved"),S(E);for(const I of m.keys())I.decrement();m.clear()},!1)}function k(){const b=Mn,E=x(),I=f();if(I!==void 0&&!s)throw I;return v&&!v.user&&b&&Ft(()=>{U(),s&&(b.resolved||m.has(b)||(b.increment(),m.add(b)))}),E}function $(b=!0){if(b!==!1&&c)return;c=!1;const E=h?h():r;if(E==null||E===!1){T(s,me(x));return}const I=a!==Je?a:me(()=>o(E,{value:x(),refetching:b}));return Un(I)?(s=I,"value"in I?(I.status==="success"?T(s,I.value,void 0,E):T(s,void 0,void 0,E),I):(c=!0,queueMicrotask(()=>c=!1),ee(()=>{D(u?"refreshing":"pending"),_()},!1),I.then(ae=>T(I,ae,void 0,E),ae=>T(I,void 0,nn(ae),E)))):(T(s,I,void 0,E),I)}return Object.defineProperties(k,{state:{get:()=>N()},error:{get:()=>f()},loading:{get(){const b=N();return b==="pending"||b==="refreshing"}},latest:{get(){if(!u)return k();const b=f();if(b&&!s)throw b;return x()}}}),h?Ft(()=>$(!1)):$(!1),[k,{refetch:$,mutate:B}]}function me(e){if(v===null)return e();const t=v;v=null;try{return e()}finally{v=t}}let Mn;function Qt(){if(this.sources&&this.state)if(this.state===Q)Ee(this);else{const e=O;O=null,ee(()=>Oe(this),!1),O=e}if(v){const e=this.observers?this.observers.length:0;v.sources?(v.sources.push(this),v.sourceSlots.push(e)):(v.sources=[this],v.sourceSlots=[e]),this.observers?(this.observers.push(v),this.observerSlots.push(v.sources.length-1)):(this.observers=[v],this.observerSlots=[v.sources.length-1])}return this.value}function Yt(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&ee(()=>{for(let o=0;o<e.observers.length;o+=1){const i=e.observers[o],s=Qe&&Qe.running;s&&Qe.disposed.has(i),(s?!i.tState:!i.state)&&(i.pure?O.push(i):Z.push(i),i.observers&&tn(i)),s||(i.state=Q)}if(O.length>1e6)throw O=[],new Error},!1)),t}function Ee(e){if(!e.fn)return;qe(e);const t=ze;kn(e,e.value,t)}function kn(e,t,n){let r;const o=C,i=v;v=C=e;try{r=e.fn(t)}catch(s){return e.pure&&(e.state=Q,e.owned&&e.owned.forEach(qe),e.owned=null),e.updatedAt=n+1,rn(s)}finally{v=i,C=o}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Yt(e,r):e.value=r,e.updatedAt=n)}function ht(e,t,n,r=Q,o){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:C,context:C?C.context:null,pure:n};return C===null||C!==Jt&&(C.owned?C.owned.push(i):C.owned=[i]),i}function Zt(e){if(e.state===0)return;if(e.state===Fe)return Oe(e);if(e.suspense&&me(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ze);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Q)Ee(e);else if(e.state===Fe){const r=O;O=null,ee(()=>Oe(e,t[0]),!1),O=r}}function ee(e,t){if(O)return e();let n=!1;t||(O=[]),Z?n=!0:Z=[],ze++;try{const r=e();return Ln(n),r}catch(r){n||(Z=null),O=null,rn(r)}}function Ln(e){if(O&&(en(O),O=null),e)return;const t=Z;Z=null,t.length&&ee(()=>On(t),!1)}function en(e){for(let t=0;t<e.length;t++)Zt(e[t])}function Oe(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const o=r.state;o===Q?r!==t&&(!r.updatedAt||r.updatedAt<ze)&&Zt(r):o===Fe&&Oe(r,t)}}}function tn(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Fe,n.pure?O.push(n):Z.push(n),n.observers&&tn(n))}}function qe(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){const i=o.pop(),s=n.observerSlots.pop();r<o.length&&(i.sourceSlots[s]=r,o[r]=i,n.observerSlots[r]=s)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)qe(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function nn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function rn(e,t=C){throw nn(e)}function Pn(e,t){return me(()=>e(t||{}))}function Hn(e,t,n){let r=n.length,o=t.length,i=r,s=0,a=0,c=t[o-1].nextSibling,u=null;for(;s<o||a<i;){if(t[s]===n[a]){s++,a++;continue}for(;t[o-1]===n[i-1];)o--,i--;if(o===s){const h=i<r?a?n[a-1].nextSibling:n[i-a]:c;for(;a<i;)e.insertBefore(n[a++],h)}else if(i===a)for(;s<o;)(!u||!u.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[i-1]&&n[a]===t[o-1]){const h=t[--o].nextSibling;e.insertBefore(n[a++],t[s++].nextSibling),e.insertBefore(n[--i],h),t[o]=n[i]}else{if(!u){u=new Map;let m=a;for(;m<i;)u.set(n[m],m++)}const h=u.get(t[s]);if(h!=null)if(a<h&&h<i){let m=s,x=1,B;for(;++m<o&&m<i&&!((B=u.get(t[m]))==null||B!==h+x);)x++;if(x>h-a){const f=t[s];for(;a<h;)e.insertBefore(n[a++],f)}else e.replaceChild(n[a++],t[s++])}else s++;else t[s++].remove()}}}function Rn(e,t,n,r={}){let o;return Cn(i=>{o=i,t===document?e():on(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{o(),t.textContent=""}}function Vn(e,t,n){let r;const o=()=>{const s=document.createElement("template");return s.innerHTML=e,s.content.firstChild},i=()=>(r||(r=o())).cloneNode(!0);return i.cloneNode=i,i}function on(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return $e(e,t,r,n);tt(o=>$e(e,t(),o,n),r)}function $e(e,t,n,r,o){for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,i==="string"||i==="number")if(i==="number"&&(t=t.toString()),s){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=ce(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||i==="boolean")n=ce(e,n,r);else{if(i==="function")return tt(()=>{let a=t();for(;typeof a=="function";)a=a();n=$e(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],c=n&&Array.isArray(n);if(nt(a,t,n,o))return tt(()=>n=$e(e,a,n,r,!0)),()=>n;if(a.length===0){if(n=ce(e,n,r),s)return n}else c?n.length===0?Ot(e,a,r):Hn(e,n,a):(n&&ce(e),Ot(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=ce(e,n,r,t);ce(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function nt(e,t,n,r){let o=!1;for(let i=0,s=t.length;i<s;i++){let a=t[i],c=n&&n[e.length],u;if(!(a==null||a===!0||a===!1))if((u=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))o=nt(e,a,c)||o;else if(u==="function")if(r){for(;typeof a=="function";)a=a();o=nt(e,Array.isArray(a)?a:[a],Array.isArray(c)?c:[c])||o}else e.push(a),o=!0;else{const h=String(a);c&&c.nodeType===3&&c.data===h?e.push(c):e.push(document.createTextNode(h))}}return o}function Ot(e,t,n=null){for(let r=0,o=t.length;r<o;r++)e.insertBefore(t[r],n)}function ce(e,t,n,r){if(n===void 0)return e.textContent="";const o=r||document.createTextNode("");if(t.length){let i=!1;for(let s=t.length-1;s>=0;s--){const a=t[s];if(o!==a){const c=a.parentNode===e;!i&&!s?c?e.replaceChild(o,a):e.insertBefore(o,n):c&&a.remove()}else i=!0}}else e.insertBefore(o,n);return[o]}const zn=8*32,_e=512,sn=new TextEncoder;function qn(e){let t=zn;for(let n=0;n<_e;n++)n>=148&&n<156||(t+=e[n]);return t}function L(e,t,n,r){const o=new Uint8Array(e,n,r);sn.encodeInto(t,o)}function le(e,t){return e.toString(8).padStart(t,"0")}const Gn={};function Wn(e){const{filename:t,data:n,attrs:r=Gn}=e;let o=t,i="";if(o.length>100){let h=0;for(;o.length>100&&(h=t.indexOf("/",h),h!==-1);)i=t.slice(0,h),o=t.slice(h+1);if(o.length>100||i.length>155){const m=(i.length&&i.length+1)+o.length;throw new Error(`filename is too long (${m})`)}}const s=jn(n),a=s.byteLength,c=_e-(a%_e||_e),u=new ArrayBuffer(512+a+c);L(u,o,0,100),L(u,le(r.mode??436,7),100,8),L(u,le(r.uid??1e3,7),108,8),L(u,le(r.gid??1e3,7),116,8),L(u,le(a,11),124,12),L(u,le(Math.floor((r.mtime??Date.now())/1e3),11),136,12),L(u,"0",156,12),L(u,"ustar00",257,8),L(u,r.user??"",265,32),L(u,r.group??"",297,32),L(u,i,345,155);{const h=new Uint8Array(u,0,512),m=qn(h);L(u,le(m,8),148,8)}return new Uint8Array(u,512,a).set(s,0),new Uint8Array(u)}function jn(e){return typeof e=="string"?sn.encode(e):e instanceof ArrayBuffer?new Uint8Array(e):e}new TextDecoder;const Kn=["string","number","bigint","symbol"],Xn=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Jn(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";const t=typeof e;if(Kn.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(e))return"Array";if(Qn(e))return"Buffer";const n=Yn(e);return n||"Object"}function Qn(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function Yn(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(Xn.includes(t))return t}class l{constructor(t,n,r){this.major=t,this.majorEncoded=t<<5,this.name=n,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}l.uint=new l(0,"uint",!0);l.negint=new l(1,"negint",!0);l.bytes=new l(2,"bytes",!0);l.string=new l(3,"string",!0);l.array=new l(4,"array",!1);l.map=new l(5,"map",!1);l.tag=new l(6,"tag",!1);l.float=new l(7,"float",!0);l.false=new l(7,"false",!0);l.true=new l(7,"true",!0);l.null=new l(7,"null",!0);l.undefined=new l(7,"undefined",!0);l.break=new l(7,"break",!0);class y{constructor(t,n,r){this.type=t,this.value=n,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Ge=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",Zn=new TextDecoder,er=new TextEncoder;function rt(e){return Ge&&globalThis.Buffer.isBuffer(e)}const tr=Ge?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):Ct(e,t,n):(e,t,n)=>n-t>64?Zn.decode(e.subarray(t,n)):Ct(e,t,n),nr=Ge?e=>e.length>64?globalThis.Buffer.from(e):$t(e):e=>e.length>64?er.encode(e):$t(e),an=Ge?(e,t,n)=>rt(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n);function rr(e,t){if(rt(e)&&rt(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}function $t(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t}function Ct(e,t,n){const r=[];for(;t<n;){const o=e[t];let i=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let a,c,u,h;switch(s){case 1:o<128&&(i=o);break;case 2:a=e[t+1],(a&192)===128&&(h=(o&31)<<6|a&63,h>127&&(i=h));break;case 3:a=e[t+1],c=e[t+2],(a&192)===128&&(c&192)===128&&(h=(o&15)<<12|(a&63)<<6|c&63,h>2047&&(h<55296||h>57343)&&(i=h));break;case 4:a=e[t+1],c=e[t+2],u=e[t+3],(a&192)===128&&(c&192)===128&&(u&192)===128&&(h=(o&15)<<18|(a&63)<<12|(c&63)<<6|u&63,h>65535&&h<1114112&&(i=h))}}i===null?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|i&1023),r.push(i),t+=s}return or(r)}const Bt=4096;function or(e){const t=e.length;if(t<=Bt)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Bt));return n}const w="CBOR decode error:",cn="CBOR encode error:";function fe(e,t,n){if(e.length-t<n)throw new Error(`${w} not enough data for type`)}const F=[24,256,65536,4294967296,BigInt("18446744073709551616")];function ne(e,t,n){fe(e,t,1);const r=e[t];if(n.strict===!0&&r<F[0])throw new Error(`${w} integer encoded in more bytes than necessary (strict decode)`);return r}function re(e,t,n){fe(e,t,2);const r=e[t]<<8|e[t+1];if(n.strict===!0&&r<F[1])throw new Error(`${w} integer encoded in more bytes than necessary (strict decode)`);return r}function oe(e,t,n){fe(e,t,4);const r=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(n.strict===!0&&r<F[2])throw new Error(`${w} integer encoded in more bytes than necessary (strict decode)`);return r}function ie(e,t,n){fe(e,t,8);const r=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(r)<<BigInt(32))+BigInt(o);if(n.strict===!0&&i<F[3])throw new Error(`${w} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(n.allowBigInt===!0)return i;throw new Error(`${w} integers outside of the safe integer range are not supported`)}function ir(e,t,n,r){return new y(l.uint,ne(e,t+1,r),2)}function sr(e,t,n,r){return new y(l.uint,re(e,t+1,r),3)}function ar(e,t,n,r){return new y(l.uint,oe(e,t+1,r),5)}function cr(e,t,n,r){return new y(l.uint,ie(e,t+1,r),9)}function se(e,t){return H(e,0,t.value)}function H(e,t,n){if(n<F[0]){const r=Number(n);e.push([t|r])}else if(n<F[1]){const r=Number(n);e.push([t|24,r])}else if(n<F[2]){const r=Number(n);e.push([t|25,r>>>8,r&255])}else if(n<F[3]){const r=Number(n);e.push([t|26,r>>>24&255,r>>>16&255,r>>>8&255,r&255])}else{const r=BigInt(n);if(r<F[4]){const o=[t|27,0,0,0,0,0,0,0];let i=Number(r&BigInt(4294967295)),s=Number(r>>BigInt(32)&BigInt(4294967295));o[8]=i&255,i=i>>8,o[7]=i&255,i=i>>8,o[6]=i&255,i=i>>8,o[5]=i&255,o[4]=s&255,s=s>>8,o[3]=s&255,s=s>>8,o[2]=s&255,s=s>>8,o[1]=s&255,e.push(o)}else throw new Error(`${w} encountered BigInt larger than allowable range`)}}se.encodedSize=function(t){return H.encodedSize(t.value)};H.encodedSize=function(t){return t<F[0]?1:t<F[1]?2:t<F[2]?3:t<F[3]?5:9};se.compareTokens=function(t,n){return t.value<n.value?-1:t.value>n.value?1:0};function lr(e,t,n,r){return new y(l.negint,-1-ne(e,t+1,r),2)}function fr(e,t,n,r){return new y(l.negint,-1-re(e,t+1,r),3)}function ur(e,t,n,r){return new y(l.negint,-1-oe(e,t+1,r),5)}const yt=BigInt(-1),ln=BigInt(1);function dr(e,t,n,r){const o=ie(e,t+1,r);if(typeof o!="bigint"){const i=-1-o;if(i>=Number.MIN_SAFE_INTEGER)return new y(l.negint,i,9)}if(r.allowBigInt!==!0)throw new Error(`${w} integers outside of the safe integer range are not supported`);return new y(l.negint,yt-BigInt(o),9)}function wt(e,t){const n=t.value,r=typeof n=="bigint"?n*yt-ln:n*-1-1;H(e,t.type.majorEncoded,r)}wt.encodedSize=function(t){const n=t.value,r=typeof n=="bigint"?n*yt-ln:n*-1-1;return r<F[0]?1:r<F[1]?2:r<F[2]?3:r<F[3]?5:9};wt.compareTokens=function(t,n){return t.value<n.value?1:t.value>n.value?-1:0};function ve(e,t,n,r){fe(e,t,n+r);const o=an(e,t+n,t+n+r);return new y(l.bytes,o,n+r)}function hr(e,t,n,r){return ve(e,t,1,n)}function yr(e,t,n,r){return ve(e,t,2,ne(e,t+1,r))}function wr(e,t,n,r){return ve(e,t,3,re(e,t+1,r))}function pr(e,t,n,r){return ve(e,t,5,oe(e,t+1,r))}function gr(e,t,n,r){const o=ie(e,t+1,r);if(typeof o=="bigint")throw new Error(`${w} 64-bit integer bytes lengths not supported`);return ve(e,t,9,o)}function Ce(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===l.string?nr(e.value):e.value),e.encodedBytes}function We(e,t){const n=Ce(t);H(e,t.type.majorEncoded,n.length),e.push(n)}We.encodedSize=function(t){const n=Ce(t);return H.encodedSize(n.length)+n.length};We.compareTokens=function(t,n){return mr(Ce(t),Ce(n))};function mr(e,t){return e.length<t.length?-1:e.length>t.length?1:rr(e,t)}function Se(e,t,n,r,o){const i=n+r;fe(e,t,i);const s=new y(l.string,tr(e,t+n,t+i),i);return o.retainStringBytes===!0&&(s.byteValue=an(e,t+n,t+i)),s}function br(e,t,n,r){return Se(e,t,1,n,r)}function xr(e,t,n,r){return Se(e,t,2,ne(e,t+1,r),r)}function Er(e,t,n,r){return Se(e,t,3,re(e,t+1,r),r)}function vr(e,t,n,r){return Se(e,t,5,oe(e,t+1,r),r)}function Sr(e,t,n,r){const o=ie(e,t+1,r);if(typeof o=="bigint")throw new Error(`${w} 64-bit integer string lengths not supported`);return Se(e,t,9,o,r)}const Ar=We;function ue(e,t,n,r){return new y(l.array,r,n)}function _r(e,t,n,r){return ue(e,t,1,n)}function Tr(e,t,n,r){return ue(e,t,2,ne(e,t+1,r))}function Ir(e,t,n,r){return ue(e,t,3,re(e,t+1,r))}function Nr(e,t,n,r){return ue(e,t,5,oe(e,t+1,r))}function Fr(e,t,n,r){const o=ie(e,t+1,r);if(typeof o=="bigint")throw new Error(`${w} 64-bit integer array lengths not supported`);return ue(e,t,9,o)}function Or(e,t,n,r){if(r.allowIndefinite===!1)throw new Error(`${w} indefinite length items not allowed`);return ue(e,t,1,1/0)}function pt(e,t){H(e,l.array.majorEncoded,t.value)}pt.compareTokens=se.compareTokens;pt.encodedSize=function(t){return H.encodedSize(t.value)};function de(e,t,n,r){return new y(l.map,r,n)}function $r(e,t,n,r){return de(e,t,1,n)}function Cr(e,t,n,r){return de(e,t,2,ne(e,t+1,r))}function Br(e,t,n,r){return de(e,t,3,re(e,t+1,r))}function Ur(e,t,n,r){return de(e,t,5,oe(e,t+1,r))}function Dr(e,t,n,r){const o=ie(e,t+1,r);if(typeof o=="bigint")throw new Error(`${w} 64-bit integer map lengths not supported`);return de(e,t,9,o)}function Mr(e,t,n,r){if(r.allowIndefinite===!1)throw new Error(`${w} indefinite length items not allowed`);return de(e,t,1,1/0)}function gt(e,t){H(e,l.map.majorEncoded,t.value)}gt.compareTokens=se.compareTokens;gt.encodedSize=function(t){return H.encodedSize(t.value)};function kr(e,t,n,r){return new y(l.tag,n,1)}function Lr(e,t,n,r){return new y(l.tag,ne(e,t+1,r),2)}function Pr(e,t,n,r){return new y(l.tag,re(e,t+1,r),3)}function Hr(e,t,n,r){return new y(l.tag,oe(e,t+1,r),5)}function Rr(e,t,n,r){return new y(l.tag,ie(e,t+1,r),9)}function mt(e,t){H(e,l.tag.majorEncoded,t.value)}mt.compareTokens=se.compareTokens;mt.encodedSize=function(t){return H.encodedSize(t.value)};const Vr=20,zr=21,qr=22,Gr=23;function Wr(e,t,n,r){if(r.allowUndefined===!1)throw new Error(`${w} undefined values are not supported`);return r.coerceUndefinedToNull===!0?new y(l.null,null,1):new y(l.undefined,void 0,1)}function jr(e,t,n,r){if(r.allowIndefinite===!1)throw new Error(`${w} indefinite length items not allowed`);return new y(l.break,void 0,1)}function bt(e,t,n){if(n){if(n.allowNaN===!1&&Number.isNaN(e))throw new Error(`${w} NaN values are not supported`);if(n.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${w} Infinity values are not supported`)}return new y(l.float,e,t)}function Kr(e,t,n,r){return bt(Et(e,t+1),3,r)}function Xr(e,t,n,r){return bt(vt(e,t+1),5,r)}function Jr(e,t,n,r){return bt(hn(e,t+1),9,r)}function xt(e,t,n){const r=t.value;if(r===!1)e.push([l.float.majorEncoded|Vr]);else if(r===!0)e.push([l.float.majorEncoded|zr]);else if(r===null)e.push([l.float.majorEncoded|qr]);else if(r===void 0)e.push([l.float.majorEncoded|Gr]);else{let o,i=!1;(!n||n.float64!==!0)&&(un(r),o=Et(R,1),r===o||Number.isNaN(r)?(R[0]=249,e.push(R.slice(0,3)),i=!0):(dn(r),o=vt(R,1),r===o&&(R[0]=250,e.push(R.slice(0,5)),i=!0))),i||(Qr(r),o=hn(R,1),R[0]=251,e.push(R.slice(0,9)))}}xt.encodedSize=function(t,n){const r=t.value;if(r===!1||r===!0||r===null||r===void 0)return 1;if(!n||n.float64!==!0){un(r);let o=Et(R,1);if(r===o||Number.isNaN(r))return 3;if(dn(r),o=vt(R,1),r===o)return 5}return 9};const fn=new ArrayBuffer(9),P=new DataView(fn,1),R=new Uint8Array(fn,0);function un(e){if(e===1/0)P.setUint16(0,31744,!1);else if(e===-1/0)P.setUint16(0,64512,!1);else if(Number.isNaN(e))P.setUint16(0,32256,!1);else{P.setFloat32(0,e);const t=P.getUint32(0),n=(t&2139095040)>>23,r=t&8388607;if(n===255)P.setUint16(0,31744,!1);else if(n===0)P.setUint16(0,(e&2147483648)>>16|r>>13,!1);else{const o=n-127;o<-24?P.setUint16(0,0):o<-14?P.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):P.setUint16(0,(t&2147483648)>>16|o+15<<10|r>>13,!1)}}}function Et(e,t){if(e.length-t<2)throw new Error(`${w} not enough data for float16`);const n=(e[t]<<8)+e[t+1];if(n===31744)return 1/0;if(n===64512)return-1/0;if(n===32256)return NaN;const r=n>>10&31,o=n&1023;let i;return r===0?i=o*2**-24:r!==31?i=(o+1024)*2**(r-25):i=o===0?1/0:NaN,n&32768?-i:i}function dn(e){P.setFloat32(0,e,!1)}function vt(e,t){if(e.length-t<4)throw new Error(`${w} not enough data for float32`);const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function Qr(e){P.setFloat64(0,e,!1)}function hn(e,t){if(e.length-t<8)throw new Error(`${w} not enough data for float64`);const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}xt.compareTokens=se.compareTokens;function g(e,t,n){throw new Error(`${w} encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function je(e){return()=>{throw new Error(`${w} ${e}`)}}const d=[];for(let e=0;e<=23;e++)d[e]=g;d[24]=ir;d[25]=sr;d[26]=ar;d[27]=cr;d[28]=g;d[29]=g;d[30]=g;d[31]=g;for(let e=32;e<=55;e++)d[e]=g;d[56]=lr;d[57]=fr;d[58]=ur;d[59]=dr;d[60]=g;d[61]=g;d[62]=g;d[63]=g;for(let e=64;e<=87;e++)d[e]=hr;d[88]=yr;d[89]=wr;d[90]=pr;d[91]=gr;d[92]=g;d[93]=g;d[94]=g;d[95]=je("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)d[e]=br;d[120]=xr;d[121]=Er;d[122]=vr;d[123]=Sr;d[124]=g;d[125]=g;d[126]=g;d[127]=je("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)d[e]=_r;d[152]=Tr;d[153]=Ir;d[154]=Nr;d[155]=Fr;d[156]=g;d[157]=g;d[158]=g;d[159]=Or;for(let e=160;e<=183;e++)d[e]=$r;d[184]=Cr;d[185]=Br;d[186]=Ur;d[187]=Dr;d[188]=g;d[189]=g;d[190]=g;d[191]=Mr;for(let e=192;e<=215;e++)d[e]=kr;d[216]=Lr;d[217]=Pr;d[218]=Hr;d[219]=Rr;d[220]=g;d[221]=g;d[222]=g;d[223]=g;for(let e=224;e<=243;e++)d[e]=je("simple values are not supported");d[244]=g;d[245]=g;d[246]=g;d[247]=Wr;d[248]=je("simple values are not supported");d[249]=Kr;d[250]=Xr;d[251]=Jr;d[252]=g;d[253]=g;d[254]=g;d[255]=jr;const V=[];for(let e=0;e<24;e++)V[e]=new y(l.uint,e,1);for(let e=-1;e>=-24;e--)V[31-e]=new y(l.negint,e,1);V[64]=new y(l.bytes,new Uint8Array(0),1);V[96]=new y(l.string,"",1);V[128]=new y(l.array,0,1);V[160]=new y(l.map,0,1);V[244]=new y(l.false,!1,1);V[245]=new y(l.true,!0,1);V[246]=new y(l.null,null,1);function yn(){const e=[];return e[l.uint.major]=se,e[l.negint.major]=wt,e[l.bytes.major]=We,e[l.string.major]=Ar,e[l.array.major]=pt,e[l.map.major]=gt,e[l.tag.major]=mt,e[l.float.major]=xt,e}yn();class Be{constructor(t,n){this.obj=t,this.parent=n}includes(t){let n=this;do if(n.obj===t)return!0;while(n=n.parent);return!1}static createCheck(t,n){if(t&&t.includes(n))throw new Error(`${cn} object contains circular references`);return new Be(n,t)}}const q={null:new y(l.null,null),undefined:new y(l.undefined,void 0),true:new y(l.true,!0),false:new y(l.false,!1),emptyArray:new y(l.array,0),emptyMap:new y(l.map,0)},J={number(e,t,n,r){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new y(l.float,e):e>=0?new y(l.uint,e):new y(l.negint,e)},bigint(e,t,n,r){return e>=BigInt(0)?new y(l.uint,e):new y(l.negint,e)},Uint8Array(e,t,n,r){return new y(l.bytes,e)},string(e,t,n,r){return new y(l.string,e)},boolean(e,t,n,r){return e?q.true:q.false},null(e,t,n,r){return q.null},undefined(e,t,n,r){return q.undefined},ArrayBuffer(e,t,n,r){return new y(l.bytes,new Uint8Array(e))},DataView(e,t,n,r){return new y(l.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,n,r){if(!e.length)return n.addBreakTokens===!0?[q.emptyArray,new y(l.break)]:q.emptyArray;r=Be.createCheck(r,e);const o=[];let i=0;for(const s of e)o[i++]=Ye(s,n,r);return n.addBreakTokens?[new y(l.array,e.length),o,new y(l.break)]:[new y(l.array,e.length),o]},Object(e,t,n,r){const o=t!=="Object",i=o?e.keys():Object.keys(e),s=o?e.size:i.length;if(!s)return n.addBreakTokens===!0?[q.emptyMap,new y(l.break)]:q.emptyMap;r=Be.createCheck(r,e);const a=[];let c=0;for(const u of i)a[c++]=[Ye(u,n,r),Ye(o?e.get(u):e[u],n,r)];return Yr(a,n),n.addBreakTokens?[new y(l.map,s),a,new y(l.break)]:[new y(l.map,s),a]}};J.Map=J.Object;J.Buffer=J.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))J[`${e}Array`]=J.DataView;function Ye(e,t={},n){const r=Jn(e),o=t&&t.typeEncoders&&t.typeEncoders[r]||J[r];if(typeof o=="function"){const s=o(e,r,t,n);if(s!=null)return s}const i=J[r];if(!i)throw new Error(`${cn} unsupported type: ${r}`);return i(e,r,t,n)}function Yr(e,t){t.mapSorter&&e.sort(t.mapSorter)}const Zr={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class eo{constructor(t,n={}){this._pos=0,this.data=t,this.options=n}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){const t=this.data[this._pos];let n=V[t];if(n===void 0){const r=d[t];if(!r)throw new Error(`${w} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);const o=t&31;n=r(this.data,this._pos,o,this.options)}return this._pos+=n.encodedLength,n}}const be=Symbol.for("DONE"),Ke=Symbol.for("BREAK");function to(e,t,n){const r=[];for(let o=0;o<e.value;o++){const i=xe(t,n);if(i===Ke){if(e.value===1/0)break;throw new Error(`${w} got unexpected break to lengthed array`)}if(i===be)throw new Error(`${w} found array but not enough entries (got ${o}, expected ${e.value})`);r[o]=i}return r}function no(e,t,n){const r=n.useMaps===!0,o=r?void 0:{},i=r?new Map:void 0;for(let s=0;s<e.value;s++){const a=xe(t,n);if(a===Ke){if(e.value===1/0)break;throw new Error(`${w} got unexpected break to lengthed map`)}if(a===be)throw new Error(`${w} found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(r!==!0&&typeof a!="string")throw new Error(`${w} non-string keys not supported (got ${typeof a})`);if(n.rejectDuplicateMapKeys===!0&&(r&&i.has(a)||!r&&a in o))throw new Error(`${w} found repeat map key "${a}"`);const c=xe(t,n);if(c===be)throw new Error(`${w} found map but not enough entries (got ${s} [no value], expected ${e.value})`);r?i.set(a,c):o[a]=c}return r?i:o}function xe(e,t){if(e.done())return be;const n=e.next();if(n.type===l.break)return Ke;if(n.type.terminal)return n.value;if(n.type===l.array)return to(n,e,t);if(n.type===l.map)return no(n,e,t);if(n.type===l.tag){if(t.tags&&typeof t.tags[n.value]=="function"){const r=xe(e,t);return t.tags[n.value](r)}throw new Error(`${w} tag not supported (${n.value})`)}throw new Error("unsupported")}function ro(e,t){if(!(e instanceof Uint8Array))throw new Error(`${w} data to decode must be a Uint8Array`);t=Object.assign({},Zr,t);const n=t.tokenizer||new eo(e,t),r=xe(n,t);if(r===be)throw new Error(`${w} did not find any content to decode`);if(r===Ke)throw new Error(`${w} got unexpected break`);return[r,e.subarray(n.pos())]}function oo(e,t){const[n,r]=ro(e,t);if(r.length>0)throw new Error(`${w} too many terminals, data makes no sense`);return n}function io(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}function Xe(e){if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function so(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(n[s]!==255)throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),h=Math.log(256)/Math.log(a);function m(f){if(f instanceof Uint8Array||(ArrayBuffer.isView(f)?f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength):Array.isArray(f)&&(f=Uint8Array.from(f))),!(f instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(f.length===0)return"";for(var S=0,U=0,_=0,N=f.length;_!==N&&f[_]===0;)_++,S++;for(var D=(N-_)*h+1>>>0,T=new Uint8Array(D);_!==N;){for(var M=f[_],k=0,$=D-1;(M!==0||k<U)&&$!==-1;$--,k++)M+=256*T[$]>>>0,T[$]=M%a>>>0,M=M/a>>>0;if(M!==0)throw new Error("Non-zero carry");U=k,_++}for(var b=D-U;b!==D&&T[b]===0;)b++;for(var E=c.repeat(S);b<D;++b)E+=e.charAt(T[b]);return E}function x(f){if(typeof f!="string")throw new TypeError("Expected String");if(f.length===0)return new Uint8Array;var S=0;if(f[S]!==" "){for(var U=0,_=0;f[S]===c;)U++,S++;for(var N=(f.length-S)*u+1>>>0,D=new Uint8Array(N);f[S];){var T=n[f.charCodeAt(S)];if(T===255)return;for(var M=0,k=N-1;(T!==0||M<_)&&k!==-1;k--,M++)T+=a*D[k]>>>0,D[k]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");_=M,S++}if(f[S]!==" "){for(var $=N-_;$!==N&&D[$]===0;)$++;for(var b=new Uint8Array(U+(N-$)),E=U;$!==N;)b[E++]=D[$++];return b}}}function B(f){var S=x(f);if(S)return S;throw new Error(`Non-${t} character`)}return{encode:m,decodeUnsafe:x,decode:B}}var ao=so,co=ao;class lo{constructor(t,n,r){p(this,"name");p(this,"prefix");p(this,"baseEncode");this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class fo{constructor(t,n,r){p(this,"name");p(this,"prefix");p(this,"baseDecode");p(this,"prefixCodePoint");if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return wn(this,t)}}class uo{constructor(t){p(this,"decoders");this.decoders=t}or(t){return wn(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r!=null)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function wn(e,t){return new uo({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}class ho{constructor(t,n,r,o){p(this,"name");p(this,"prefix");p(this,"baseEncode");p(this,"baseDecode");p(this,"encoder");p(this,"decoder");this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=o,this.encoder=new lo(t,n,r),this.decoder=new fo(t,n,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}function pn({name:e,prefix:t,encode:n,decode:r}){return new ho(e,t,n,r)}function gn({name:e,prefix:t,alphabet:n}){const{encode:r,decode:o}=co(n,e);return pn({prefix:t,name:e,encode:r,decode:i=>Xe(o(i))})}function yo(e,t,n,r){const o={};for(let h=0;h<t.length;++h)o[t[h]]=h;let i=e.length;for(;e[i-1]==="=";)--i;const s=new Uint8Array(i*n/8|0);let a=0,c=0,u=0;for(let h=0;h<i;++h){const m=o[e[h]];if(m===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|m,a+=n,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s}function wo(e,t,n){const r=t[t.length-1]==="=",o=(1<<n)-1;let i="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s!==0&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i}function z({name:e,prefix:t,bitsPerChar:n,alphabet:r}){return pn({prefix:t,name:e,encode(o){return wo(o,r,n)},decode(o){return yo(o,r,n,e)}})}const Te=z({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});z({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});z({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});z({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});z({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});z({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});z({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});z({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});z({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});const j=gn({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});gn({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var po=mn,Ut=128,go=127,mo=~go,bo=Math.pow(2,31);function mn(e,t,n){t=t||[],n=n||0;for(var r=n;e>=bo;)t[n++]=e&255|Ut,e/=128;for(;e&mo;)t[n++]=e&255|Ut,e>>>=7;return t[n]=e|0,mn.bytes=n-r+1,t}var xo=ot,Eo=128,Dt=127;function ot(e,r){var n=0,r=r||0,o=0,i=r,s,a=e.length;do{if(i>=a)throw ot.bytes=0,new RangeError("Could not decode varint");s=e[i++],n+=o<28?(s&Dt)<<o:(s&Dt)*Math.pow(2,o),o+=7}while(s>=Eo);return ot.bytes=i-r,n}var vo=Math.pow(2,7),So=Math.pow(2,14),Ao=Math.pow(2,21),_o=Math.pow(2,28),To=Math.pow(2,35),Io=Math.pow(2,42),No=Math.pow(2,49),Fo=Math.pow(2,56),Oo=Math.pow(2,63),$o=function(e){return e<vo?1:e<So?2:e<Ao?3:e<_o?4:e<To?5:e<Io?6:e<No?7:e<Fo?8:e<Oo?9:10},Co={encode:po,decode:xo,encodingLength:$o},Ue=Co;function it(e,t=0){return[Ue.decode(e,t),Ue.decode.bytes]}function De(e,t,n=0){return Ue.encode(e,t,n),t}function Me(e){return Ue.encodingLength(e)}function st(e,t){const n=t.byteLength,r=Me(e),o=r+Me(n),i=new Uint8Array(o+n);return De(e,i,0),De(n,i,r),i.set(t,o),new St(e,n,t,i)}function at(e){const t=Xe(e),[n,r]=it(t),[o,i]=it(t.subarray(r)),s=t.subarray(r+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new St(n,o,s,t)}function Bo(e,t){if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&io(e.bytes,n.bytes)}}class St{constructor(t,n,r,o){p(this,"code");p(this,"size");p(this,"digest");p(this,"bytes");this.code=t,this.size=n,this.digest=r,this.bytes=o}}function Mt(e,t){const{bytes:n,version:r}=e;switch(r){case 0:return Do(n,ct(e),t??j.encoder);default:return Mo(n,ct(e),t??Te.encoder)}}const kt=new WeakMap;function ct(e){const t=kt.get(e);if(t==null){const n=new Map;return kt.set(e,n),n}return t}var qt;class A{constructor(t,n,r,o){p(this,"code");p(this,"version");p(this,"multihash");p(this,"bytes");p(this,"/");p(this,qt,"CID");this.code=n,this.version=t,this.multihash=r,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:t,multihash:n}=this;if(t!==he)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==ko)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return A.createV0(n)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:t,digest:n}=this.multihash,r=st(t,n);return A.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return A.equals(this,t)}static equals(t,n){const r=n;return r!=null&&t.code===r.code&&t.version===r.version&&Bo(t.multihash,r.multihash)}toString(t){return Mt(this,t)}toJSON(){return{"/":Mt(this)}}link(){return this}[(qt=Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom"))](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;const n=t;if(n instanceof A)return n;if(n["/"]!=null&&n["/"]===n.bytes||n.asCID===n){const{version:r,code:o,multihash:i,bytes:s}=n;return new A(r,o,i,s??Lt(r,o,i.bytes))}else if(n[Lo]===!0){const{version:r,multihash:o,code:i}=n,s=at(o);return A.create(r,i,s)}else return null}static create(t,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(n!==he)throw new Error(`Version 0 CID must use dag-pb (code: ${he}) block encoding`);return new A(t,n,r,r.bytes)}case 1:{const o=Lt(t,n,r.bytes);return new A(t,n,r,o)}default:throw new Error("Invalid version")}}static createV0(t){return A.create(0,he,t)}static createV1(t,n){return A.create(1,t,n)}static decode(t){const[n,r]=A.decodeFirst(t);if(r.length!==0)throw new Error("Incorrect length");return n}static decodeFirst(t){const n=A.inspectBytes(t),r=n.size-n.multihashSize,o=Xe(t.subarray(r,r+n.multihashSize));if(o.byteLength!==n.multihashSize)throw new Error("Incorrect length");const i=o.subarray(n.multihashSize-n.digestSize),s=new St(n.multihashCode,n.digestSize,i,o);return[n.version===0?A.createV0(s):A.createV1(n.codec,s),t.subarray(n.size)]}static inspectBytes(t){let n=0;const r=()=>{const[m,x]=it(t.subarray(n));return n+=x,m};let o=r(),i=he;if(o===18?(o=0,n=0):i=r(),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const s=n,a=r(),c=r(),u=n+c,h=u-s;return{version:o,codec:i,multihashCode:a,digestSize:c,multihashSize:h,size:u}}static parse(t,n){const[r,o]=Uo(t,n),i=A.decode(o);if(i.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return ct(i).set(r,t),i}}function Uo(e,t){switch(e[0]){case"Q":{const n=t??j;return[j.prefix,n.decode(`${j.prefix}${e}`)]}case j.prefix:{const n=t??j;return[j.prefix,n.decode(e)]}case Te.prefix:{const n=t??Te;return[Te.prefix,n.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}}function Do(e,t,n){const{prefix:r}=n;if(r!==j.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(o==null){const i=n.encode(e).slice(1);return t.set(r,i),i}else return o}function Mo(e,t,n){const{prefix:r}=n,o=t.get(r);if(o==null){const i=n.encode(e);return t.set(r,i),i}else return o}const he=112,ko=18;function Lt(e,t,n){const r=Me(e),o=r+Me(t),i=new Uint8Array(o+n.byteLength);return De(e,i,0),De(t,i,r),i.set(n,o),i}const Lo=Symbol.for("@ipld/js-cid/CID"),bn=42;function Po(e){return e instanceof ArrayBuffer?new Uint8Array(e,0,e.byteLength):e}function Ho(e){if(e.asCID!==e&&e["/"]!==e.bytes)return null;const t=A.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new y(l.tag,bn),new y(l.bytes,n)]}function Ro(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Vo(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const Pt={float64:!0,typeEncoders:{Object:Ho,undefined:Ro,number:Vo}};({...Pt,typeEncoders:{...Pt.typeEncoders}});function zo(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return A.decode(e.subarray(1))}const ke={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};ke.tags[bn]=zo;({...ke,tags:ke.tags.slice()});const xn=e=>oo(Po(e),ke);function qo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Go=lt,Ht=128,Wo=127,jo=~Wo,Ko=Math.pow(2,31);function lt(e,t,n){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw lt.bytes=0,new RangeError("Could not encode varint");t=t||[],n=n||0;for(var r=n;e>=Ko;)t[n++]=e&255|Ht,e/=128;for(;e&jo;)t[n++]=e&255|Ht,e>>>=7;return t[n]=e|0,lt.bytes=n-r+1,t}var Xo=ft,Jo=128,Rt=127;function ft(e,r){var n=0,r=r||0,o=0,i=r,s,a=e.length;do{if(i>=a||o>49)throw ft.bytes=0,new RangeError("Could not decode varint");s=e[i++],n+=o<28?(s&Rt)<<o:(s&Rt)*Math.pow(2,o),o+=7}while(s>=Jo);return ft.bytes=i-r,n}var Qo=Math.pow(2,7),Yo=Math.pow(2,14),Zo=Math.pow(2,21),ei=Math.pow(2,28),ti=Math.pow(2,35),ni=Math.pow(2,42),ri=Math.pow(2,49),oi=Math.pow(2,56),ii=Math.pow(2,63),si=function(e){return e<Qo?1:e<Yo?2:e<Zo?3:e<ei?4:e<ti?5:e<ni?6:e<ri?7:e<oi?8:e<ii?9:10},ai={encode:Go,decode:Xo,encodingLength:si};const Y=qo(ai),Ze={SHA2_256:18,LENGTH:32,DAG_PB:112},ci=40;function Le(e,t){if(!e.length)throw new Error("Unexpected end of data");const n=Y.decode(e);return t.seek(Y.decode.bytes),n}function li(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);let n=0;return{version:2,characteristics:[t.getBigUint64(n,!0),t.getBigUint64(n+=8,!0)],dataOffset:Number(t.getBigUint64(n+=8,!0)),dataSize:Number(t.getBigUint64(n+=8,!0)),indexOffset:Number(t.getBigUint64(n+=8,!0))}}function fi(e){Y.decode(e);const t=Y.decode.bytes,n=Y.decode(e.subarray(Y.decode.bytes)),r=Y.decode.bytes;return t+r+n}const K={Null:e=>e===null?e:void 0,Int:e=>Number.isInteger(e)?e:void 0,Float:e=>typeof e=="number"&&Number.isFinite(e)?e:void 0,String:e=>typeof e=="string"?e:void 0,Bool:e=>typeof e=="boolean"?e:void 0,Bytes:e=>e instanceof Uint8Array?e:void 0,Link:e=>e!==null&&typeof e=="object"&&e.asCID===e?e:void 0,List:e=>Array.isArray(e)?e:void 0,Map:e=>e!==null&&typeof e=="object"&&e.asCID!==e&&!Array.isArray(e)&&!(e instanceof Uint8Array)?e:void 0},we={"CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)":K.Link,"CarV1HeaderOrV2Pragma > roots (anon)":e=>{if(K.List(e)!==void 0){for(let t=0;t<e.length;t++){let n=e[t];if(n=we["CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)"](n),n===void 0)return;if(n!==e[t]){const r=e.slice(0,t);for(let o=t;o<e.length;o++){let i=e[o];if(i=we["CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)"](i),i===void 0)return;r.push(i)}return r}}return e}},Int:K.Int,CarV1HeaderOrV2Pragma:e=>{if(K.Map(e)===void 0)return;const t=Object.entries(e);let n=e,r=1;for(let o=0;o<t.length;o++){const[i,s]=t[o];switch(i){case"roots":{const a=we["CarV1HeaderOrV2Pragma > roots (anon)"](e[i]);if(a===void 0)return;if(a!==s||n!==e){if(n===e){n={};for(let c=0;c<o;c++)n[t[c][0]]=t[c][1]}n.roots=a}}break;case"version":{r--;const a=we.Int(e[i]);if(a===void 0)return;if(a!==s||n!==e){if(n===e){n={};for(let c=0;c<o;c++)n[t[c][0]]=t[c][1]}n.version=a}}break;default:return}}if(!(r>0))return n}},pe={"CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)":K.Link,"CarV1HeaderOrV2Pragma > roots (anon)":e=>{if(K.List(e)!==void 0){for(let t=0;t<e.length;t++){let n=e[t];if(n=pe["CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)"](n),n===void 0)return;if(n!==e[t]){const r=e.slice(0,t);for(let o=t;o<e.length;o++){let i=e[o];if(i=pe["CarV1HeaderOrV2Pragma > roots (anon) > valueType (anon)"](i),i===void 0)return;r.push(i)}return r}}return e}},Int:K.Int,CarV1HeaderOrV2Pragma:e=>{if(K.Map(e)===void 0)return;const t=Object.entries(e);let n=e,r=1;for(let o=0;o<t.length;o++){const[i,s]=t[o];switch(i){case"roots":{const a=pe["CarV1HeaderOrV2Pragma > roots (anon)"](s);if(a===void 0)return;if(a!==s||n!==e){if(n===e){n={};for(let c=0;c<o;c++)n[t[c][0]]=t[c][1]}n.roots=a}}break;case"version":{r--;const a=pe.Int(s);if(a===void 0)return;if(a!==s||n!==e){if(n===e){n={};for(let c=0;c<o;c++)n[t[c][0]]=t[c][1]}n.version=a}}break;default:return}}if(!(r>0))return n}},ui={toTyped:we.CarV1HeaderOrV2Pragma,toRepresentation:pe.CarV1HeaderOrV2Pragma};yn();async function En(e,t){const n=Le(await e.upTo(8),e);if(n===0)throw new Error("Invalid CAR header (zero length)");const r=await e.exactly(n,!0),o=xn(r);if(ui.toTyped(o)===void 0)throw new Error("Invalid CAR header format");if(o.version!==1&&o.version!==2||t!==void 0&&o.version!==t)throw new Error(`Invalid CAR version: ${o.version}${t!==void 0?` (expected ${t})`:""}`);if(o.version===1){if(!Array.isArray(o.roots))throw new Error("Invalid CAR header format");return o}if(o.roots!==void 0)throw new Error("Invalid CAR header format");const i=li(await e.exactly(ci,!0));e.seek(i.dataOffset-e.pos);const s=await En(e,1);return Object.assign(s,i)}async function di(e){const t=await e.exactly(2,!1);if(t[0]===Ze.SHA2_256&&t[1]===Ze.LENGTH){const s=await e.exactly(34,!0),a=at(s);return A.create(0,Ze.DAG_PB,a)}const n=Le(await e.upTo(8),e);if(n!==1)throw new Error(`Unexpected CID version (${n})`);const r=Le(await e.upTo(8),e),o=await e.exactly(fi(await e.upTo(8)),!0),i=at(o);return A.create(n,r,i)}async function vn(e){const t=e.pos;let n=Le(await e.upTo(8),e);if(n===0)throw new Error("Invalid CAR section (zero length)");n+=e.pos-t;const r=await di(e),o=n-Number(e.pos-t);return{cid:r,length:n,blockLength:o}}async function hi(e){const{cid:t,blockLength:n}=await vn(e);return{bytes:await e.exactly(n,!0),cid:t}}async function yi(e){const t=e.pos,{cid:n,length:r,blockLength:o}=await vn(e),i={cid:n,length:r,blockLength:o,offset:t,blockOffset:e.pos};return e.seek(i.blockLength),i}function wi(e){const t=(async()=>{const n=await En(e);if(n.version===2){const r=e.pos-n.dataOffset;e=bi(e,n.dataSize-r)}return n})();return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await hi(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await yi(e)}}}function pi(e){let t=0;return{async upTo(n){return e.subarray(t,t+Math.min(n,e.length-t))},async exactly(n,r=!1){if(n>e.length-t)throw new Error("Unexpected end of data");const o=e.subarray(t,t+n);return r&&(t+=n),o},seek(n){t+=n},get pos(){return t}}}function gi(e){let t=0,n=0,r=0,o=new Uint8Array(0);const i=async s=>{n=o.length-r;const a=[o.subarray(r)];for(;n<s;){const u=await e();if(u==null)break;n<0?u.length>n&&a.push(u.subarray(-n)):a.push(u),n+=u.length}o=new Uint8Array(a.reduce((u,h)=>u+h.length,0));let c=0;for(const u of a)o.set(u,c),c+=u.length;r=0};return{async upTo(s){return o.length-r<s&&await i(s),o.subarray(r,r+Math.min(o.length-r,s))},async exactly(s,a=!1){if(o.length-r<s&&await i(s),o.length-r<s)throw new Error("Unexpected end of data");const c=o.subarray(r,r+s);return a&&(t+=s,r+=s),c},seek(s){t+=s,r+=s},get pos(){return t}}}function mi(e){const t=e[Symbol.asyncIterator]();async function n(){const r=await t.next();return r.done?null:r.value}return gi(n)}function bi(e,t){let n=0;return{async upTo(r){let o=await e.upTo(r);return o.length+n>t&&(o=o.subarray(0,t-n)),o},async exactly(r,o=!1){const i=await e.exactly(r,o);if(i.length+n>t)throw new Error("Unexpected end of data");return o&&(n+=r),i},seek(r){n+=r,e.seek(r)},get pos(){return e.pos}}}class xi{constructor(t,n,r){this._version=t,this._roots=n,this._iterable=r,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}}class Pe extends xi{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(t){const{version:n,roots:r,iterator:o}=await Ei(t);return new Pe(n,r,o)}static async fromIterable(t){const{version:n,roots:r,iterator:o}=await vi(t);return new Pe(n,r,o)}}async function Ei(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return Sn(pi(e))}async function vi(e){if(!e||typeof e[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return Sn(mi(e))}async function Sn(e){const t=wi(e),{version:n,roots:r}=await t.header();return{version:n,roots:r,iterator:t.blocks()}}function Si({name:e,code:t,encode:n}){return new Ai(e,t,n)}class Ai{constructor(t,n,r){p(this,"name");p(this,"code");p(this,"encode");this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?st(this.code,n):n.then(r=>st(this.code,r))}else throw Error("Unknown type, must be binary type")}}const _i="modulepreload",Ti=function(e,t){return new URL(e,t).href},Vt={},X=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.all(n.map(c=>{if(c=Ti(c,r),c in Vt)return;Vt[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(!!r)for(let B=i.length-1;B>=0;B--){const f=i[B];if(f.href===c&&(!u||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${h}`))return;const x=document.createElement("link");if(x.rel=u?"stylesheet":_i,u||(x.as="script",x.crossOrigin=""),x.href=c,a&&x.setAttribute("nonce",a),document.head.appendChild(x),u)return new Promise((B,f)=>{x.addEventListener("load",B),x.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}return o.then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},zt=globalThis.showSaveFilePicker;async function Ii(e={}){if(zt&&!e._preferPolyfill)return zt(e);e._name&&(console.warn("deprecated _name, spec now have `suggestedName`"),e.suggestedName=e._name);const{FileSystemFileHandle:t}=await X(async()=>{const{FileSystemFileHandle:r}=await Promise.resolve().then(()=>ge);return{FileSystemFileHandle:r}},void 0,import.meta.url),{FileHandle:n}=await X(async()=>{const{FileHandle:r}=await import("./downloader-CmmJKunS.js");return{FileHandle:r}},[],import.meta.url);return new t(new n(e.suggestedName))}globalThis.DataTransferItem&&!DataTransferItem.prototype.getAsFileSystemHandle&&(DataTransferItem.prototype.getAsFileSystemHandle=async function(){const e=this.webkitGetAsEntry(),[{FileHandle:t,FolderHandle:n},{FileSystemDirectoryHandle:r},{FileSystemFileHandle:o}]=await Promise.all([X(()=>import("./sandbox-Bsmfs1Z2.js"),[],import.meta.url),X(()=>Promise.resolve().then(()=>Ci),void 0,import.meta.url),X(()=>Promise.resolve().then(()=>ge),void 0,import.meta.url)]);return e.isFile?new o(new t(e,!1)):new r(new n(e,!1))});const Ni={ReadableStream:globalThis.ReadableStream,WritableStream:globalThis.WritableStream,TransformStream:globalThis.TransformStream,DOMException:globalThis.DOMException,Blob:globalThis.Blob,File:globalThis.File},{WritableStream:Fi}=Ni;var Ve;const _t=class _t extends Fi{constructor(n){super(n);It(this,Ve);Nt(this,Ve,n),Object.setPrototypeOf(this,_t.prototype),this._closed=!1}async close(){this._closed=!0;const n=this.getWriter(),r=n.close();return n.releaseLock(),r}seek(n){return this.write({type:"seek",position:n})}truncate(n){return this.write({type:"truncate",size:n})}write(n){if(this._closed)return Promise.reject(new TypeError("Cannot write to a CLOSED writable stream"));const r=this.getWriter(),o=r.write(n);return r.releaseLock(),o}};Ve=new WeakMap;let te=_t;Object.defineProperty(te.prototype,Symbol.toStringTag,{value:"FileSystemWritableFileStream",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(te.prototype,{close:{enumerable:!0},seek:{enumerable:!0},truncate:{enumerable:!0},write:{enumerable:!0}});globalThis.FileSystemFileHandle&&!globalThis.FileSystemFileHandle.prototype.createWritable&&!globalThis.FileSystemWritableFileStream&&(globalThis.FileSystemWritableFileStream=te);const G=Symbol("adapter");var Gt;Gt=G;class At{constructor(t){p(this,Gt);p(this,"name");p(this,"kind");this.kind=t.kind,this.name=t.name,this[G]=t}async queryPermission(t={}){const{mode:n="read"}=t,r=this[G];if(r.queryPermission)return r.queryPermission({mode:n});if(n==="read")return"granted";if(n==="readwrite")return r.writable?"granted":"denied";throw new TypeError(`Mode ${n} must be 'read' or 'readwrite'`)}async requestPermission({mode:t="read"}={}){const n=this[G];if(n.requestPermission)return n.requestPermission({mode:t});if(t==="read")return"granted";if(t==="readwrite")return n.writable?"granted":"denied";throw new TypeError(`Mode ${t} must be 'read' or 'readwrite'`)}async remove(t={}){await this[G].remove(t)}async isSameEntry(t){return this===t?!0:!t||typeof t!="object"||this.kind!==t.kind||!t[G]?!1:this[G].isSameEntry(t[G])}}Object.defineProperty(At.prototype,Symbol.toStringTag,{value:"FileSystemHandle",writable:!1,enumerable:!1,configurable:!0});var Wt;globalThis.FileSystemHandle&&((Wt=globalThis.FileSystemHandle.prototype).queryPermission??(Wt.queryPermission=function(e){return"granted"}));const An={INVALID:["seeking position failed.","InvalidStateError"],GONE:["A requested file or directory could not be found at the time an operation was processed.","NotFoundError"],MISMATCH:["The path supplied exists, but was not an entry of requested type.","TypeMismatchError"],MOD_ERR:["The object can not be modified in this way.","InvalidModificationError"],SYNTAX:e=>[`Failed to execute 'write' on 'UnderlyingSinkBase': Invalid params passed. ${e}`,"SyntaxError"],SECURITY:["It was determined that certain files are unsafe for access within a Web application, or that too many calls are being made on file resources.","SecurityError"],DISALLOWED:["The request is not allowed by the user agent or the platform in the current context.","NotAllowedError"]},{GONE:Oi,MOD_ERR:$i}=An,W=Symbol("adapter");var jt;let He=class Ie extends At{constructor(n){super(n);p(this,jt);this[W]=n}async getDirectoryHandle(n,r={}){if(n==="")throw new TypeError("Name can't be an empty string.");if(n==="."||n===".."||n.includes("/"))throw new TypeError("Name contains invalid characters.");r.create=!!r.create;const o=await this[W].getDirectoryHandle(n,r);return new Ie(o)}async*entries(){const{FileSystemFileHandle:n}=await X(async()=>{const{FileSystemFileHandle:r}=await Promise.resolve().then(()=>ge);return{FileSystemFileHandle:r}},void 0,import.meta.url);for await(const[r,o]of this[W].entries())yield[o.name,o.kind==="file"?new n(o):new Ie(o)]}async*getEntries(){const{FileSystemFileHandle:n}=await X(async()=>{const{FileSystemFileHandle:r}=await Promise.resolve().then(()=>ge);return{FileSystemFileHandle:r}},void 0,import.meta.url);console.warn("deprecated, use .entries() instead");for await(let r of this[W].entries())yield r.kind==="file"?new n(r):new Ie(r)}async getFileHandle(n,r={}){const{FileSystemFileHandle:o}=await X(async()=>{const{FileSystemFileHandle:s}=await Promise.resolve().then(()=>ge);return{FileSystemFileHandle:s}},void 0,import.meta.url);if(n==="")throw new TypeError("Name can't be an empty string.");if(n==="."||n===".."||n.includes("/"))throw new TypeError("Name contains invalid characters.");r.create=!!r.create;const i=await this[W].getFileHandle(n,r);return new o(i)}async removeEntry(n,r={}){if(n==="")throw new TypeError("Name can't be an empty string.");if(n==="."||n===".."||n.includes("/"))throw new TypeError("Name contains invalid characters.");return r.recursive=!!r.recursive,this[W].removeEntry(n,r)}async resolve(n){if(await n.isSameEntry(this))return[];const r=[{handle:this,path:[]}];for(;r.length;){let{handle:o,path:i}=r.pop();for await(const s of o.values()){if(await s.isSameEntry(n))return[...i,s.name];s.kind==="directory"&&r.push({handle:s,path:[...i,s.name]})}}return null}async*keys(){for await(const[n]of this[W].entries())yield n}async*values(){for await(const[n,r]of this)yield r}[(jt=W,Symbol.asyncIterator)](){return this.entries()}};Object.defineProperty(He.prototype,Symbol.toStringTag,{value:"FileSystemDirectoryHandle",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(He.prototype,{getDirectoryHandle:{enumerable:!0},entries:{enumerable:!0},getFileHandle:{enumerable:!0},removeEntry:{enumerable:!0}});if(globalThis.FileSystemDirectoryHandle){const e=globalThis.FileSystemDirectoryHandle.prototype;e.resolve=async function(i){if(await i.isSameEntry(this))return[];const s=[{handle:this,path:[]}];for(;s.length;){let{handle:a,path:c}=s.pop();for await(const u of a.values()){if(await u.isSameEntry(i))return[...c,u.name];u.kind==="directory"&&s.push({handle:u,path:[...c,u.name]})}}return null};async function t(o){if(await(await navigator.storage.getDirectory()).resolve(o)===null)throw new DOMException(...Oi)}const n=e.entries;e.entries=async function*(){await t(this),yield*n.call(this)},e[Symbol.asyncIterator]=async function*(){yield*this.entries()};const r=e.removeEntry;e.removeEntry=async function(o,i={}){return r.call(this,o,i).catch(async s=>{throw s instanceof DOMException&&s.name==="UnknownError"&&!i.recursive&&!(await n.call(this).next()).done?new DOMException(...$i):s})}}const Ci=Object.freeze(Object.defineProperty({__proto__:null,FileSystemDirectoryHandle:He,default:He},Symbol.toStringTag,{value:"Module"})),{INVALID:Bi,SYNTAX:et,GONE:Ui}=An,Ae=Symbol("adapter");var Kt,Xt;class Re extends(Xt=At,Kt=Ae,Xt){constructor(n){super(n);p(this,Kt);this[Ae]=n}async createWritable(n={}){return new te(await this[Ae].createWritable(n))}async getFile(){return this[Ae].getFile()}}Object.defineProperty(Re.prototype,Symbol.toStringTag,{value:"FileSystemFileHandle",writable:!1,enumerable:!1,configurable:!0});Object.defineProperties(Re.prototype,{createWritable:{enumerable:!0},getFile:{enumerable:!0}});if(globalThis.FileSystemFileHandle&&!globalThis.FileSystemFileHandle.prototype.createWritable){const e=new WeakMap;let t;const n=()=>{let o,i;onmessage=async s=>{const a=s.ports[0],c=s.data;switch(c.type){case"open":const u=c.name;let h=await navigator.storage.getDirectory();for(const m of c.path)h=await h.getDirectoryHandle(m);o=await h.getFileHandle(u),i=await o.createSyncAccessHandle();break;case"write":i.write(c.data,{at:c.position}),i.flush();break;case"truncate":i.truncate(c.size);break;case"abort":case"close":i.close();break}a.postMessage(0)}};globalThis.FileSystemFileHandle.prototype.createWritable=async function(o){if(!t){const f=`(${n.toString()})()`,S=new Blob([f],{type:"text/javascript"});t=URL.createObjectURL(S)}const i=new Worker(t,{type:"module"});let s=0;const a=new TextEncoder;let c=await this.getFile().then(f=>f.size);const u=f=>new Promise((S,U)=>{const _=new MessageChannel;_.port1.onmessage=N=>{N.data instanceof Error?U(N.data):S(N.data),_.port1.close(),_.port2.close(),_.port1.onmessage=null},i.postMessage(f,[_.port2])}),h=await navigator.storage.getDirectory(),m=await e.get(this),x=await h.resolve(m);if(x===null)throw new DOMException(...Ui);return await u({type:"open",path:x,name:this.name}),(o==null?void 0:o.keepExistingData)===!1&&(await u({type:"truncate",size:0}),c=0),new te({start:f=>{},async write(f){if((f==null?void 0:f.constructor)===Object?f={...f}:f={type:"write",data:f,position:s},f.type==="write"){if(!("data"in f))throw await u({type:"close"}),new DOMException(...et("write requires a data argument"));if(f.position??(f.position=s),typeof f.data=="string")f.data=a.encode(f.data);else if(f.data instanceof ArrayBuffer)f.data=new Uint8Array(f.data);else if(!(f.data instanceof Uint8Array)&&ArrayBuffer.isView(f.data))f.data=new Uint8Array(f.data.buffer,f.data.byteOffset,f.data.byteLength);else if(!(f.data instanceof Uint8Array)){const U=await new Response(f.data).arrayBuffer();f.data=new Uint8Array(U)}Number.isInteger(f.position)&&f.position>=0&&(s=f.position),s+=f.data.byteLength,c+=f.data.byteLength}else if(f.type==="seek")if(Number.isInteger(f.position)&&f.position>=0){if(c<f.position)throw new DOMException(...Bi);console.log("seeking",f),s=f.position;return}else throw await u({type:"close"}),new DOMException(...et("seek requires a position argument"));else if(f.type==="truncate")if(Number.isInteger(f.size)&&f.size>=0)c=f.size,s>c&&(s=c);else throw await u({type:"close"}),new DOMException(...et("truncate requires a size argument"));await u(f)},async close(){await u({type:"close"}),i.terminate()},async abort(f){await u({type:"abort",reason:f}),i.terminate()}})};const r=FileSystemDirectoryHandle.prototype.getFileHandle;FileSystemDirectoryHandle.prototype.getFileHandle=async function(...o){const i=await r.call(this,...o);return e.set(i,this),i}}const ge=Object.freeze(Object.defineProperty({__proto__:null,FileSystemFileHandle:Re,default:Re},Symbol.toStringTag,{value:"Module"}));var Di=Vn("<div><input type=file><p>");function Mi(){const[e,t]=ye(),[n]=Dn(e,async r=>{const i=await(await Ii({suggestedName:"repo.tar",id:"repo-archive",startIn:"downloads",types:[{description:"Tarball archive",accept:{"application/x-tar":[".tar"]}}]})).createWritable({keepExistingData:!1}),s=Pi(r);for await(const{collection:a,rkey:c,value:u}of s){const h=Wn({filename:`repo/${a}/${c}.json`,data:JSON.stringify(u,null,"	")});await i.write(h)}await i.close()});return(()=>{var r=Di(),o=r.firstChild,i=o.nextSibling;return o.addEventListener("change",s=>{const a=s.target.files;if(a.length!==0){const c=a[0];t(c)}}),on(i,()=>n.loading?"in progress":n.error?(console.error(n.error),"errored, check console"):"idle"),r})()}const ki=Si({name:"sha2-256",code:18,encode:async e=>{const t=await crypto.subtle.digest("sha-256",e);return Xe(t)}}),Li=new TextDecoder;async function*Pi(e){const t=new Uint8Array(await e.arrayBuffer()),n=await Pe.fromBytes(t),r=await n.getRoots();_n(r.length===1,"expected 1 root commit");const o=r[0],i=new Map;for await(const{cid:a,bytes:c}of n)await Hi(a,c),i.set(a.toString(),c);const s=dt(i,o);for(const{key:a,cid:c}of ut(i,s.data)){const[u,h]=a.split("/"),m=dt(i,c);yield{collection:u,rkey:h,value:m}}}async function Hi(e,t){const n=await ki.digest(t),r=A.createV1(e.code,n);if(!e.equals(r))throw new Error(`Invalid CID, expected ${r} but got ${e}`)}function*ut(e,t){const n=dt(e,t),r=n.e;let o="";n.l!==null&&(yield*ut(e,n.l));for(let i=0,s=r.length;i<s;i++){const a=r[i],c=Li.decode(a.k),u=o.slice(0,a.p)+c;o=u,yield{key:u,cid:a.v},a.t!==null&&(yield*ut(e,a.t))}}function dt(e,t){const n=e.get(t.toString());return _n(n!=null,"cid not found"),xn(n)}function _n(e,t){if(!e)throw new Error(t)}Rn(()=>Pn(Mi,{}),document.getElementById("root"));export{Ni as c,An as e};
